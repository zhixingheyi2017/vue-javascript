webpackJsonp([2],{"5zde":function(e,n,t){t("zQR9"),t("qyJz"),e.exports=t("FeBl").Array.from},Gu7T:function(e,n,t){"use strict";n.__esModule=!0;var o=t("c/Tr"),r=function(e){return e&&e.__esModule?e:{default:e}}(o);n.default=function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return(0,r.default)(e)}},"c/Tr":function(e,n,t){e.exports={default:t("5zde"),__esModule:!0}},"d+tS":function(e,n,t){n=e.exports=t("FZ+f")(!0),n.push([e.i,"\n.content ul[data-v-5bc2de1b]{\n  padding: 10px;\n}\n.content ul li[data-v-5bc2de1b]{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 10px 0;\n  border-bottom: 1px solid #f1f1f1;\n}\n.content ul li img[data-v-5bc2de1b]{\n  width:130px;\n  height: 150px;\n}\n.content h4[data-v-5bc2de1b]{\n  font-size: 20px;\n  line-height: 35px;\n}\n.content p[data-v-5bc2de1b]{\n  color: #2a2a2a;\n  line-height: 25px;\n}\n.content b[data-v-5bc2de1b] {\n  color: red;\n}\n.content button[data-v-5bc2de1b]{\n  display: block;width: 60px;height: 25px; background: orangered; color: #fff;border: none; border-radius: 15px; outline: none;\n}\n.more[data-v-5bc2de1b]{\n  margin: 10px;\n  background: #2afedd;\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n  font-size: 20px;\n}\n","",{version:3,sources:["C:/Users/speedly/Desktop/201710node/vue-book-plus/src/components/List.vue"],names:[],mappings:";AACA;EACE,cAAc;CACf;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,gBAAgB;EAChB,iCAAiC;CAClC;AACD;EACE,YAAY;EACZ,cAAc;CACf;AACD;EACE,gBAAgB;EAChB,kBAAkB;CACnB;AACD;EACE,eAAe;EACf,kBAAkB;CACnB;AACD;EACE,WAAW;CACZ;AACD;EACE,eAAe,YAAY,aAAa,CAAC,sBAAsB,CAAC,YAAY,aAAa,CAAC,oBAAoB,CAAC,cAAc;CAC9H;AACD;EACE,aAAa;EACb,oBAAoB;EACpB,aAAa;EACb,kBAAkB;EAClB,mBAAmB;EACnB,gBAAgB;CACjB",file:"List.vue",sourcesContent:["\n.content ul[data-v-5bc2de1b]{\n  padding: 10px;\n}\n.content ul li[data-v-5bc2de1b]{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 10px 0;\n  border-bottom: 1px solid #f1f1f1;\n}\n.content ul li img[data-v-5bc2de1b]{\n  width:130px;\n  height: 150px;\n}\n.content h4[data-v-5bc2de1b]{\n  font-size: 20px;\n  line-height: 35px;\n}\n.content p[data-v-5bc2de1b]{\n  color: #2a2a2a;\n  line-height: 25px;\n}\n.content b[data-v-5bc2de1b] {\n  color: red;\n}\n.content button[data-v-5bc2de1b]{\n  display: block;width: 60px;height: 25px; background: orangered; color: #fff;border: none; border-radius: 15px; outline: none;\n}\n.more[data-v-5bc2de1b]{\n  margin: 10px;\n  background: #2afedd;\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n  font-size: 20px;\n}\n"],sourceRoot:""}])},fBQ2:function(e,n,t){"use strict";var o=t("evD5"),r=t("X8DO");e.exports=function(e,n,t){n in e?o.f(e,n,r(0,t)):e[n]=t}},qyJz:function(e,n,t){"use strict";var o=t("+ZMJ"),r=t("kM2E"),a=t("sB3e"),i=t("msXi"),s=t("Mhyx"),c=t("QRG4"),d=t("fBQ2"),l=t("3fs2");r(r.S+r.F*!t("dY0y")(function(e){Array.from(e)}),"Array",{from:function(e){var n,t,r,A,u=a(e),f="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,b=void 0!==v,h=0,C=l(u);if(b&&(v=o(v,p>2?arguments[2]:void 0,2)),void 0==C||f==Array&&s(C))for(n=c(u.length),t=new f(n);n>h;h++)d(t,h,b?v(u[h],h):u[h]);else for(A=C.call(u),t=new f;!(r=A.next()).done;h++)d(t,h,b?i(A,v,[r.value,h],!0):r.value);return t.length=h,t}})},tcnj:function(e,n,t){"use strict";function o(e){t("v+Op")}Object.defineProperty(n,"__esModule",{value:!0});var r=t("Gu7T"),a=t.n(r),i=t("Xxa5"),s=t.n(i),c=t("exGp"),d=t.n(c),l=t("gyMJ"),A=t("UeVD"),u={data:function(){return{msg:"hello",books:[],offset:0,hasMore:!0,isLoading:!1}},mounted:function(){var e=this,n=this.$refs.scroll,t=n.offsetTop,o=0;n.addEventListener("touchstart",function(r){if(0==n.scrollTop&&n.offsetTop==t){var a=r.touches[0].pageY,i=function e(r){var i=r.touches[0].pageY;o=i-a,o>0?o<=50?n.style.top=o+t+"px":(o=50,n.style.top=t+50+"px"):(n.removeEventListener("touchmove",e),n.removeEventListener("touchend",s))},s=function r(a){clearInterval(e.timer1),e.timer1=setInterval(function(){if(o<=0)return clearInterval(e.timer1),o=0,n.style.top=t+"px",n.removeEventListener("touchmove",i),n.removeEventListener("touchend",r),e.books=[],e.offset=0,e.hasMore=!0,void e.getData();o-=1,n.style.top=t+o+"px"},1)};n.addEventListener("touchmove",i),n.addEventListener("touchend",s)}},!1)},created:function(){this.getData()},methods:{loadMore:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){var n=e.$refs.scroll;n.scrollTop+n.clientHeight+20>n.scrollHeight&&e.getData()},60)},more:function(){this.getData()},remove:function(e){var n=this;return d()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.e)(e);case 2:n.books=n.books.filter(function(n){return n.bookId!==e});case 3:case"end":return t.stop()}},t,n)}))()},getData:function(){var e=this;return d()(s.a.mark(function n(){var t,o,r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.hasMore||e.isLoading){n.next=11;break}return e.isLoading=!0,n.next=4,Object(l.d)(e.offset);case 4:t=n.sent,o=t.hasMore,r=t.books,e.books=[].concat(a()(e.books),a()(r)),e.hasMore=o,e.isLoading=!1,e.offset=e.books.length;case 11:case"end":return n.stop()}},n,e)}))()}},computed:{},components:{MHeader:A.a}},f=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("MHeader",[e._v("列表页")]),e._v(" "),t("div",{ref:"scroll",staticClass:"content",on:{scroll:e.loadMore}},[t("ul",e._l(e.books,function(n,o){return t("router-link",{key:o,attrs:{to:{name:"detail",params:{bid:n.bookId}},tag:"li"}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n.bookCover,expression:"book.bookCover"}]}),e._v(" "),t("div",[t("h4",[e._v(e._s(n.bookName))]),e._v(" "),t("p",[e._v(e._s(n.bookInfo))]),e._v(" "),t("b",[e._v(e._s(n.bookPrice))]),e._v(" "),t("button",{on:{click:function(t){t.stopPropagation(),e.remove(n.bookId)}}},[e._v("删除")])])])})),e._v(" "),t("div",{staticClass:"more",on:{click:e.more}},[e._v("加载更多")])])],1)},p=[],v={render:f,staticRenderFns:p},b=v,h=t("VU/8"),C=o,g=h(u,b,!1,C,"data-v-5bc2de1b",null);n.default=g.exports},"v+Op":function(e,n,t){var o=t("d+tS");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t("rjj0")("4e2fae2e",o,!0)}});
//# sourceMappingURL=2.0eaf8546d9f92958ecc7.js.map